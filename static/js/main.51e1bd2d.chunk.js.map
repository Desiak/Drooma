{"version":3,"sources":["assets/snare.svg","assets/tom1.svg","assets/tom2.svg","assets/floor.svg","assets/hihat.svg","assets/crash.svg","assets/ride.svg","assets/kick.svg","drumsets sync /^/.*/.mp3$","drumsets/drumset1/crash.mp3","drumsets/drumset1/floor.mp3","drumsets/drumset1/hihat.mp3","drumsets/drumset1/kick.mp3","drumsets/drumset1/ride.mp3","drumsets/drumset1/snare.mp3","drumsets/drumset1/tom1.mp3","drumsets/drumset1/tom2.mp3","drumsets/drumset2/crash.mp3","drumsets/drumset2/floor.mp3","drumsets/drumset2/hihat.mp3","drumsets/drumset2/kick.mp3","drumsets/drumset2/ride.mp3","drumsets/drumset2/snare.mp3","drumsets/drumset2/tom1.mp3","drumsets/drumset2/tom2.mp3","drumsets/drumset3/crash.mp3","drumsets/drumset3/floor.mp3","drumsets/drumset3/hihat.mp3","drumsets/drumset3/kick.mp3","drumsets/drumset3/ride.mp3","drumsets/drumset3/snare.mp3","drumsets/drumset3/tom1.mp3","drumsets/drumset3/tom2.mp3","drumsets/drumset4/crash.mp3","drumsets/drumset4/floor.mp3","drumsets/drumset4/hihat.mp3","drumsets/drumset4/kick.mp3","drumsets/drumset4/ride.mp3","drumsets/drumset4/snare.mp3","drumsets/drumset4/tom1.mp3","drumsets/drumset4/tom2.mp3","components/Store.js","components/StoreProvider.jsx","components/player.js","components/drumset.js","App.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Store","arrayOfBuffers","currentDrumset","context","makeObservable","this","observable","StoreContext","createContext","StoreProvider","children","Provider","value","observer","singleTrackName","singleTrackValue","interval","store","useContext","index","useState","isPlaying","setIsPlaying","setCurrentDrumset","speed","setSpeed","beatScheduler","setBeatScheduler","blocksInMotion","setBlocksInMotion","crash","ride","hihat","snare","tom1","tom2","floor","kick","tracks","setTracks","length","tracksLength","setTracksLength","indexOfCurrentTrack","indexOfCurrentNote","allTracks","window","AudioContext","webkitAudioContext","nextNoteTime","currentTime","prepareAudioBuffers","drumset","shouldShedule","a","track","url","require","fetch","then","response","arrayBuffer","decodeAudioData","audioBuffer","buffer","push","scheduler","appendPhantomTrack","modifyTracksLength","shouldAdd","longerTracks","longerTrack","renderSoundBlocks","shorterTracks","indexOfRemovedBeat","shorterTrack","slice","container","document","querySelector","innerHTML","singleTrack","createElement","classList","add","forEach","tile","singleTile","addEventListener","onClickToggleActiveState","appendChild","clickedTile","target","split","indexOfClickedTile","pop","trackOfClickedTile","updatedValue","sampleAudio","time","sampleTime","drumPadSelector","source","createBufferSource","connect","destination","start","innerWidth","style","animation","setInterval","motionTrack","phantomTrack","cloneNode","tracksContainer","useEffect","animatedBlocks","className","onClick","clearInterval","remove","emptyTracks","clearAllTracks","type","onChange","playSound","src","Kick","alt","datakey","Snare","Tom1","Tom2","FloorTom","Crash","Ride","HihatTop","App","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"gGAAAA,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,8FCA3C,IAAIC,EAAM,CACT,uBAAwB,GACxB,uBAAwB,GACxB,uBAAwB,GACxB,sBAAuB,GACvB,sBAAuB,GACvB,uBAAwB,GACxB,sBAAuB,GACvB,sBAAuB,GACvB,uBAAwB,GACxB,uBAAwB,GACxB,uBAAwB,GACxB,sBAAuB,GACvB,sBAAuB,GACvB,uBAAwB,GACxB,sBAAuB,GACvB,sBAAuB,GACvB,uBAAwB,GACxB,uBAAwB,GACxB,uBAAwB,GACxB,sBAAuB,GACvB,sBAAuB,GACvB,uBAAwB,GACxB,sBAAuB,GACvB,sBAAuB,GACvB,uBAAwB,GACxB,uBAAwB,GACxB,uBAAwB,GACxB,sBAAuB,GACvB,sBAAuB,GACvB,uBAAwB,GACxB,sBAAuB,GACvB,sBAAuB,IAIxB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBN,EAAOC,QAAUE,EACjBA,EAAeE,GAAK,I,gBCrDpBL,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,gBCA3CD,EAAOC,QAAU,IAA0B,kC,oKCEtBc,E,iDASnBC,eAAiB,CAAC,EAAG,G,KACrBC,eAAiB,W,KACjBC,QAAU,K,2DATRC,YAAeC,KAAM,CACnBJ,eAAgBK,IAChBJ,eAAgBI,IAChBH,QAASG,U,KCHFC,EAAcC,0BAUZC,EARK,SAAC,GAAc,IAAbC,EAAY,EAAZA,SAElB,OAAO,kBAACH,EAAaI,SAAd,CAAuBC,MAAO,IAAIZ,GACpCU,I,OC2VMG,mBA/Vf,WACE,IAmBIC,EACAC,EAIAC,EACAb,EAzBEc,EAAQC,qBAAWX,GACrBY,EAAQ,EAFI,EAGkBC,mBAAS,MAH3B,mBAGTC,EAHS,KAGEC,EAHF,OAI4BF,mBAAS,YAJrC,mBAITlB,EAJS,KAIOqB,EAJP,OAKUH,mBAAS,IALnB,mBAKTI,EALS,KAKFC,EALE,OAM0BL,mBAAS,MANnC,mBAMTM,EANS,KAMMC,EANN,OAO4BP,mBAAS,MAPrC,mBAOTQ,EAPS,KAOOC,EAPP,OAQYT,mBAAS,CACnCU,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrDC,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACpDC,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrDC,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrDC,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACpDC,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACpDC,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrDC,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAhBtC,mBAQTC,EARS,KAQDC,EARC,OAkBwBnB,mBAASkB,EAAOR,MAAMU,QAlB9C,mBAkBTC,EAlBS,KAkBKC,EAlBL,KAsBZC,EAAsB,EAEtBC,EAAqB,EAGnBC,EAAY,GAElBC,OAAOC,aAAeD,OAAOC,cAAgBD,OAAOE,mBACpD7C,EAAU,IAAI4C,aACd9B,EAAMd,QAAUA,EAChB,IAAI8C,EAAe9C,EAAQ+C,YAEvBjD,EAAiB,GAEfkD,EAAmB,uCAAG,WAAOC,EAASC,GAAhB,mBAAAC,EAAA,sDAC1BrD,EAAiB,GADS,OAAAqD,EAAA,KAENhB,GAFM,qDAEfiB,EAFe,WAGlBC,EAAMC,MAAQ,YAAeL,EAAhB,YAA2BG,EAA3B,SAHK,SAIHG,MAAMF,GACxBG,MAAK,SAACC,GACL,OAAOA,EAASC,iBAEjBF,MAAK,SAACE,GACL,OAAO1D,EAAQ2D,gBAAgBD,MAEhCF,MAAK,SAACI,GACL,OAAOA,KAZa,OAIlBC,EAJkB,OAcxB/D,EAAegE,KAAKD,GAdI,uBAgB1B/C,EAAMhB,eAAiBA,EACnBoD,IACFa,IACAC,MAnBwB,4CAAH,wDAuBnBC,EAAqB,SAACC,GAE1B,IAAKhD,EAAW,CACd,GAAIgD,GAAa5B,EAAe,IAAK,CACnC,IAAM6B,EAAehC,EACrB,IAAK,IAAIiB,KAASe,EAAc,CAC9B,IAAMC,EAAW,sBAAOD,EAAaf,IAApB,CAA4B,IAC7Ce,EAAaf,GAASgB,EAExBhC,EAAU+B,GACVE,SACK,IAAKH,GAAa5B,EAAe,EAAG,CACzC,IAAMgC,EAAgBnC,EACtB,IAAK,IAAIiB,KAASkB,EAAe,CAC/B,IAAMC,EAAqBD,EAAclB,GAAOf,OAAS,EACnDmC,EAAeF,EAAclB,GAAOqB,MACxC,EACAF,GAEFD,EAAclB,GAASoB,EAEzBpC,EAAUkC,GACVD,IAEF9B,EAAgBJ,EAAOR,MAAMU,UAI3BgC,EAAoB,WAExB,IAAMK,EAAYC,SAASC,cAAc,WAEzCF,EAAUG,UAAY,GAJQ,eAKnBzB,GACT,IAAM0B,EAAcH,SAASI,cAAc,OAC3CD,EAAYE,UAAUC,IAAI,QAA1B,UAAsC7B,IACtCjB,EAAOiB,GAAO8B,SAAQ,SAACC,GACrB,IAAIC,EAAaT,SAASI,cAAc,OACxCK,EAAWjG,GAAX,UAAmBiE,EAAnB,YAA4BpC,GAC5BoE,EAAWJ,UAAUC,IAAI,OAAzB,UAAoC7B,IAC/B+B,GACHC,EAAWJ,UAAUC,IAArB,SAEFG,EAAWC,iBAAiB,SAAS,SAAC9F,GACpC+F,EAAyB/F,MAE3BuF,EAAYS,YAAYH,KACxBpE,IAEcsB,IACZI,EAAUoB,KAAKgB,GACf9D,EAAQ,MAGZ0D,EAAUa,YAAYT,IArBxB,IAAK,IAAM1B,KAASjB,EAAS,EAAlBiB,IAyBPkC,EAA2B,SAAC/F,GAChC,IAAMiG,EAAcjG,EAAEkG,OAAOtG,GAAGuG,MAAM,KAChCC,EAAqBH,EAAYI,MACjCC,EAAqBL,EAAY,GAEvC,IAAK,IAAMpC,KAASjB,EAClB,GAAIiB,IAAUyC,EAAoB,CAChC,IAAMC,EAAe3D,EAAOiB,GAAOuC,GAAsB,EAAI,EAC7DxD,EAAOiB,GAAOuC,GAAsBG,EAGxCzB,KASI0B,EAAc,SAACvD,EAAqBwD,EAAMrF,GAE9C,IAGIsF,EAFEC,EADUvB,SAASC,cAAc,YACPA,cAAR,WAA0BjE,IAC5CwF,EAASnG,EAAQoG,qBAGrBH,EADED,EAAOhG,EAAQ+C,YAAc,GAClB/C,EAAQ+C,YACHiD,EAGpBG,EAAOtC,OAAS/D,EAAe0C,GAC/B2D,EAAOE,QAAQrG,EAAQsG,aACvBH,EAAOI,MAAMN,GAGTtD,OAAO6D,WAAa,MACtBN,EAAgBO,MAAMC,UAAtB,2BACE7F,EAAW,EADb,6BAGAqF,EAAgBb,iBAAiB,gBAAgB,WAC/CnF,KAAKuG,MAAMC,UAAY,QAK7B,SAAS3C,IACPlD,EAAW,IAAc,EAARQ,GACjBG,EACEmF,aAAY,WAGV,GAA4B,IAAxB3G,EAAQ+C,YAAmB,CAI7B,IAAK,IAAMK,KAH+C,KAA9B,IAAvBX,GAA4BD,KAtCvCf,EAAegF,MAAMC,UAArB,0BACE7F,EAAWyB,EADb,sBAyC0BH,EAIlBxB,EAAkByC,GAClBxC,EAAmBuB,EAAOiB,IACLX,IAKnBsD,EACEvD,EACAM,EAAejC,EACfF,GAGwB,IAAxB6B,EACFA,EAAsB,EACjBA,IAETM,GAAgBjC,IAChB4B,IAE2B7B,EAAiByB,SAC1CI,EAAqB,MAGb,IAAX5B,IAIP,IAAMmD,GAAqB,WAGzB,IAAM4C,EAAcjC,SAASC,cAAc,WACbD,SAASI,cAAc,OAC/BC,UAAUC,IAAI,WACpC,IAAM4B,EAAeD,EAAYE,WAAU,GACrCC,EAAkBpC,SAASC,cAAc,qBAC/CiC,EAAa7B,UAAUC,IAAI,WAC3B8B,EAAgBxB,YAAYsB,IAiD9B,OARAG,qBAAU,WAER3C,IACArB,EAAoB,YAAY,GAChC,IAAMiE,EAAiBtC,SAASC,cAAc,qBAC9ClD,EAAkBuF,KACjB,IAGD,yBAAKC,UAAU,oBACb,yBAAKA,UAAU,eACb,4BAAQA,UAAU,WAAWC,QAAS,SAAC5H,GA/CtC2B,IAECG,EAAQ,GACVC,EAAS,IACAD,EAAQ,IACjBC,EAAS,MAET0B,EAAoBjD,GAAgB,GACpCoB,GAAa,OAwCX,uBAAG+F,UAAU,iBAEf,4BAAQA,UAAU,YAAYC,QAAS,SAAC5H,GApCxC2B,IACFF,EAAQ,EACRoG,cAAc7F,GACdC,EAAiB,MACjBL,GAAa,GACQwD,SAASC,cAAc,YAC/ByC,SACb5F,EAAegF,MAAMC,UAAY,MA8B7B,uBAAGQ,UAAU,kBAEf,4BAAQA,UAAU,YAAYC,QAAS,kBA5BtB,WACrB,IAAIG,EAAcnF,EAClB,IAAK,IAAIiB,KAASjB,EAChBmF,EAAYlE,GAASjB,EAAOiB,GAAOpE,KAAI,WACrC,OAAO,KAGXoD,EAAUkF,GACVjD,IAoBiDkD,KAC3C,uBAAGL,UAAU,oBAGjB,yBAAKA,UAAU,aACb,yBAAKA,UAAU,iBACb,yBACEA,UAAU,cACVC,QAAS,kBAAMlD,GAAmB,KAElC,uBAAGiD,UAAU,kBAEf,yBAAKA,UAAU,UACb,uBAAGA,UAAU,gBAAgB5E,GAE7B,qCAGF,yBAAK4E,UAAU,WAAWC,QAAS,kBAAMlD,GAAmB,KAC1D,uBAAGiD,UAAU,kBAGjB,yBAAKA,UAAU,SACb,uBAAGA,UAAU,gBAAb,SACA,2BACEM,KAAK,SACLN,UAAU,cACVzG,MAAOY,EACPoG,SAAU,SAAClI,GACJ2B,GACHI,EAAS/B,EAAEkG,OAAOhF,UAIxB,uBAAGyG,UAAU,eAAb,QAEF,yBAAKA,UAAU,eACb,uBAAGA,UAAU,qBAAb,WACA,4BACE/H,GAAG,cACH+H,UAAU,cACVO,SAAU,SAAClI,GACT6B,EAAkB7B,EAAEkG,OAAOhF,OAC3BK,EAAMf,eAAiBR,EAAEkG,OAAOhF,MAChCuC,EAAoBzD,EAAEkG,OAAOhF,OAAO,KAGtC,4BAAQA,MAAM,YAAd,cACA,4BAAQA,MAAM,YAAd,cACA,4BAAQA,MAAM,YAAd,aACA,4BAAQA,MAAM,YAAd,gBAIN,kBAAC,aAAD,KACE,yBAAKyG,UAAU,UACb,yBAAKA,UAAU,cACb,yBAAKA,UAAU,UACf,yBAAKA,UAAU,SACf,yBAAKA,UAAU,UACf,yBAAKA,UAAU,UACf,yBAAKA,UAAU,SACf,yBAAKA,UAAU,SACf,yBAAKA,UAAU,cACf,yBAAKA,UAAU,UAEjB,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,kB,wICjSZxG,mBAzCf,WACE,IAAMI,EAAQC,qBAAWX,GAEnBsH,EAAY,SAAC1G,GACjB,IAAMmF,EAASrF,EAAMd,QAAQoG,qBAC7BD,EAAOtC,OAAS/C,EAAMhB,eAAekB,GACrCmF,EAAOE,QAAQvF,EAAMd,QAAQsG,aAC7BH,EAAOI,SAGT,OACE,yBAAKW,UAAU,WACb,yBAAKA,UAAU,WAAWC,QAAS,kBAAMO,EAAU,KACjD,yBAAKC,IAAKC,IAAMC,IAAI,GAAGC,QAAQ,OAAOZ,UAAU,UAElD,yBAAKA,UAAU,YAAYC,QAAS,kBAAMO,EAAU,KAClD,yBAAKC,IAAKI,IAAOF,IAAI,GAAGC,QAAQ,QAAQZ,UAAU,WAEpD,yBAAKA,UAAU,WAAWC,QAAS,kBAAMO,EAAU,KACjD,yBAAKC,IAAKK,IAAMH,IAAI,GAAGC,QAAQ,OAAOZ,UAAU,UAElD,yBAAKA,UAAU,WAAWC,QAAS,kBAAMO,EAAU,KACjD,yBAAKC,IAAKM,IAAMJ,IAAI,GAAGC,QAAQ,OAAOZ,UAAU,UAElD,yBAAKA,UAAU,gBAAgBC,QAAS,kBAAMO,EAAU,KACtD,yBAAKC,IAAKO,IAAUL,IAAI,GAAGC,QAAQ,QAAQZ,UAAU,WAEvD,yBAAKA,UAAU,YAAYC,QAAS,kBAAMO,EAAU,KAClD,yBAAKC,IAAKQ,IAAON,IAAI,GAAGC,QAAQ,QAAQZ,UAAU,WAEpD,yBAAKA,UAAU,WAAWC,QAAS,kBAAMO,EAAU,KACjD,yBAAKC,IAAKS,IAAMP,IAAI,GAAGC,QAAQ,OAAOZ,UAAU,UAGlD,yBAAKA,UAAU,YAAYC,QAAS,kBAAMO,EAAU,KAClD,yBAAKC,IAAKU,IAAUR,IAAI,GAAGC,QAAQ,QAAQZ,UAAU,eC9B9CoB,E,uKAVX,OACE,kBAAC,EAAD,KACE,yBAAKpB,UAAU,QACb,kBAAC,EAAD,MACA,kBAAC,EAAD,Y,GANQqB,aCHlBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEF/D,SAASgE,eAAe,W","file":"static/js/main.51e1bd2d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/snare.2d080a8c.svg\";","module.exports = __webpack_public_path__ + \"static/media/tom1.5b2179ac.svg\";","module.exports = __webpack_public_path__ + \"static/media/tom2.2faad85c.svg\";","module.exports = __webpack_public_path__ + \"static/media/floor.bbff7150.svg\";","module.exports = __webpack_public_path__ + \"static/media/hihat.a313715d.svg\";","module.exports = __webpack_public_path__ + \"static/media/crash.452fd4c3.svg\";","module.exports = __webpack_public_path__ + \"static/media/ride.788c1f61.svg\";","module.exports = __webpack_public_path__ + \"static/media/kick.89f909c2.svg\";","var map = {\n\t\"./drumset1/crash.mp3\": 53,\n\t\"./drumset1/floor.mp3\": 54,\n\t\"./drumset1/hihat.mp3\": 55,\n\t\"./drumset1/kick.mp3\": 56,\n\t\"./drumset1/ride.mp3\": 57,\n\t\"./drumset1/snare.mp3\": 58,\n\t\"./drumset1/tom1.mp3\": 59,\n\t\"./drumset1/tom2.mp3\": 60,\n\t\"./drumset2/crash.mp3\": 61,\n\t\"./drumset2/floor.mp3\": 62,\n\t\"./drumset2/hihat.mp3\": 63,\n\t\"./drumset2/kick.mp3\": 64,\n\t\"./drumset2/ride.mp3\": 65,\n\t\"./drumset2/snare.mp3\": 66,\n\t\"./drumset2/tom1.mp3\": 67,\n\t\"./drumset2/tom2.mp3\": 68,\n\t\"./drumset3/crash.mp3\": 69,\n\t\"./drumset3/floor.mp3\": 70,\n\t\"./drumset3/hihat.mp3\": 71,\n\t\"./drumset3/kick.mp3\": 72,\n\t\"./drumset3/ride.mp3\": 73,\n\t\"./drumset3/snare.mp3\": 74,\n\t\"./drumset3/tom1.mp3\": 75,\n\t\"./drumset3/tom2.mp3\": 76,\n\t\"./drumset4/crash.mp3\": 77,\n\t\"./drumset4/floor.mp3\": 78,\n\t\"./drumset4/hihat.mp3\": 79,\n\t\"./drumset4/kick.mp3\": 80,\n\t\"./drumset4/ride.mp3\": 81,\n\t\"./drumset4/snare.mp3\": 82,\n\t\"./drumset4/tom1.mp3\": 83,\n\t\"./drumset4/tom2.mp3\": 84\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 52;","module.exports = __webpack_public_path__ + \"static/media/crash.ec6de53a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/floor.3b20097f.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihat.89759442.mp3\";","module.exports = __webpack_public_path__ + \"static/media/kick.b89fc829.mp3\";","module.exports = __webpack_public_path__ + \"static/media/ride.60fa5228.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snare.90edc2c0.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tom1.7ab040ff.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tom2.741a3314.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crash.26293627.mp3\";","module.exports = __webpack_public_path__ + \"static/media/floor.9aac8e64.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihat.2953458a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/kick.6a333a87.mp3\";","module.exports = __webpack_public_path__ + \"static/media/ride.182d30de.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snare.dc80473c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tom1.45b21353.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tom2.cc71bd7b.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crash.5ff85195.mp3\";","module.exports = __webpack_public_path__ + \"static/media/floor.f42464d5.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihat.518e1804.mp3\";","module.exports = __webpack_public_path__ + \"static/media/kick.8977ae4d.mp3\";","module.exports = __webpack_public_path__ + \"static/media/ride.71fbbeff.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snare.3e3ada98.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tom1.ae7a1b93.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tom2.a787d843.mp3\";","module.exports = __webpack_public_path__ + \"static/media/crash.7cabef0a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/floor.7cc9837e.mp3\";","module.exports = __webpack_public_path__ + \"static/media/hihat.353394ac.mp3\";","module.exports = __webpack_public_path__ + \"static/media/kick.46940a63.mp3\";","module.exports = __webpack_public_path__ + \"static/media/ride.a84b71de.mp3\";","module.exports = __webpack_public_path__ + \"static/media/snare.d327eb52.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tom1.51a91bf4.mp3\";","module.exports = __webpack_public_path__ + \"static/media/tom2.deb5c018.mp3\";","import { observable, makeObservable } from \"mobx\";\r\n\r\nexport default class Store {\r\n  construcutor() {\r\n    makeObservable(this, {\r\n      arrayOfBuffers: observable,\r\n      currentDrumset: observable,\r\n      context: observable,\r\n    });\r\n  }\r\n\r\n  arrayOfBuffers = [1, 2];\r\n  currentDrumset = \"drumset1\";\r\n  context = null;\r\n}\r\n","import React, {createContext} from \"react\";\r\n\r\nimport Store from \"./Store\";\r\n\r\nexport const StoreContext= createContext();\r\n\r\nconst StoreProvider=({children})=>{\r\n\r\n    return <StoreContext.Provider value={new Store()}>\r\n        {children}\r\n        </StoreContext.Provider>\r\n\r\n}\r\n\r\nexport default StoreProvider;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { StoreContext } from \"./StoreProvider\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nfunction Player() {\r\n  const store = useContext(StoreContext);\r\n  let index = 0;\r\n  const [isPlaying, setIsPlaying] = useState(null);\r\n  const [currentDrumset, setCurrentDrumset] = useState(\"drumset1\");\r\n  const [speed, setSpeed] = useState(60);\r\n  const [beatScheduler, setBeatScheduler] = useState(null);\r\n  const [blocksInMotion, setBlocksInMotion] = useState(null);\r\n  const [tracks, setTracks] = useState({\r\n    crash: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    ride: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    hihat: [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],\r\n    snare: [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\r\n    tom1: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    tom2: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    floor: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    kick: [1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0],\r\n  });\r\n  const [tracksLength, setTracksLength] = useState(tracks.crash.length);\r\n\r\n  let singleTrackName;\r\n  let singleTrackValue;\r\n  let indexOfCurrentTrack = 0;\r\n\r\n  let indexOfCurrentNote = 0;\r\n  let interval;\r\n  let context;\r\n  const allTracks = [];\r\n\r\n  window.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n  context = new AudioContext();\r\n  store.context = context;\r\n  let nextNoteTime = context.currentTime;\r\n\r\n  let arrayOfBuffers = [];\r\n\r\n  const prepareAudioBuffers = async (drumset, shouldShedule) => {\r\n    arrayOfBuffers = [];\r\n    for (const track in tracks) {\r\n      const url = require(`../drumsets/${drumset}/${track}.mp3`);\r\n      const buffer = await fetch(url)\r\n        .then((response) => {\r\n          return response.arrayBuffer();\r\n        })\r\n        .then((arrayBuffer) => {\r\n          return context.decodeAudioData(arrayBuffer);\r\n        })\r\n        .then((audioBuffer) => {\r\n          return audioBuffer;\r\n        });\r\n      arrayOfBuffers.push(buffer);\r\n    }\r\n    store.arrayOfBuffers = arrayOfBuffers;\r\n    if (shouldShedule) {\r\n      scheduler();\r\n      appendPhantomTrack();\r\n    }\r\n  };\r\n\r\n  const modifyTracksLength = (shouldAdd) => {\r\n    //disable modification when app is playing\r\n    if (!isPlaying) {\r\n      if (shouldAdd && tracksLength < 100) {\r\n        const longerTracks = tracks;\r\n        for (let track in longerTracks) {\r\n          const longerTrack = [...longerTracks[track], 0];\r\n          longerTracks[track] = longerTrack;\r\n        }\r\n        setTracks(longerTracks);\r\n        renderSoundBlocks();\r\n      } else if (!shouldAdd && tracksLength > 4) {\r\n        const shorterTracks = tracks;\r\n        for (let track in shorterTracks) {\r\n          const indexOfRemovedBeat = shorterTracks[track].length - 1;\r\n          const shorterTrack = shorterTracks[track].slice(\r\n            0,\r\n            indexOfRemovedBeat\r\n          );\r\n          shorterTracks[track] = shorterTrack;\r\n        }\r\n        setTracks(shorterTracks);\r\n        renderSoundBlocks();\r\n      }\r\n      setTracksLength(tracks.crash.length);\r\n    }\r\n  };\r\n\r\n  const renderSoundBlocks = () => {\r\n    //display all soundblocks according to state value\r\n    const container = document.querySelector(\".motion\");\r\n\r\n    container.innerHTML = \"\";\r\n    for (const track in tracks) {\r\n      const singleTrack = document.createElement(\"div\");\r\n      singleTrack.classList.add(\"track\", `${track}`);\r\n      tracks[track].forEach((tile) => {\r\n        let singleTile = document.createElement(\"div\");\r\n        singleTile.id = `${track}-${index}`;\r\n        singleTile.classList.add(\"tile\", `${track}`);\r\n        if (!tile) {\r\n          singleTile.classList.add(`empty`);\r\n        }\r\n        singleTile.addEventListener(\"click\", (e) => {\r\n          onClickToggleActiveState(e);\r\n        });\r\n        singleTrack.appendChild(singleTile);\r\n        index++;\r\n\r\n        if (index === tracksLength) {\r\n          allTracks.push(singleTrack);\r\n          index = 0;\r\n        }\r\n      });\r\n      container.appendChild(singleTrack);\r\n    }\r\n  };\r\n\r\n  const onClickToggleActiveState = (e) => {\r\n    const clickedTile = e.target.id.split(\"-\");\r\n    const indexOfClickedTile = clickedTile.pop();\r\n    const trackOfClickedTile = clickedTile[0];\r\n\r\n    for (const track in tracks) {\r\n      if (track === trackOfClickedTile) {\r\n        const updatedValue = tracks[track][indexOfClickedTile] ? 0 : 1;\r\n        tracks[track][indexOfClickedTile] = updatedValue;\r\n      }\r\n    }\r\n    renderSoundBlocks();\r\n  };\r\n\r\n  const animateTrack = () => {\r\n    blocksInMotion.style.animation = `tracksAnimation ${\r\n      interval * tracksLength\r\n    }s linear infinite`;\r\n  };\r\n\r\n  const sampleAudio = (indexOfCurrentTrack, time, singleTrackName) => {\r\n    //selectors\r\n    const drumset = document.querySelector(\".drumset\");\r\n    const drumPadSelector = drumset.querySelector(`.${singleTrackName}`);\r\n    const source = context.createBufferSource();\r\n    let sampleTime;\r\n    if (time - context.currentTime > 0.1) {\r\n      sampleTime = context.currentTime;\r\n    } else sampleTime = time;\r\n\r\n    //play sound\r\n    source.buffer = arrayOfBuffers[indexOfCurrentTrack];\r\n    source.connect(context.destination);\r\n    source.start(sampleTime);\r\n\r\n    //animate relative drumpad:\r\n    if (window.innerWidth > 640) {\r\n      drumPadSelector.style.animation = `drumPadHighlight ${\r\n        interval / 3\r\n      }s alternate ease-in-out 2`;\r\n      drumPadSelector.addEventListener(\"animationend\", function () {\r\n        this.style.animation = \"\";\r\n      });\r\n    }\r\n  };\r\n\r\n  function scheduler() {\r\n    interval = 60 / (speed * 4);\r\n    setBeatScheduler(\r\n      setInterval(() => {\r\n        //schedule ahead of time...\r\n\r\n        if (context.currentTime !== 0) {\r\n          if ((indexOfCurrentNote === 0 && indexOfCurrentTrack) === 0) {\r\n            animateTrack();\r\n          }\r\n          for (const track in tracks) {\r\n            //1) loop over each tile (first, second etc.) of each track (snare,hihat etc.).\r\n            //   so it starts with first tile of each track, then goes to next one, and next one and so on...\r\n\r\n            singleTrackName = track;\r\n            singleTrackValue = tracks[track];\r\n            if (singleTrackValue[indexOfCurrentNote]) {\r\n              //2) if tile is active then schedule sound relative to this tile in this track.\r\n              // indexOfCurrentTrack to find proper buffer in arrayOfBuffers,\r\n              // nextNoteTime+interval - it is when the sound should be played,\r\n              // singleTrackName is used to animate corresponding drum pad.\r\n              sampleAudio(\r\n                indexOfCurrentTrack,\r\n                nextNoteTime + interval,\r\n                singleTrackName\r\n              );\r\n            }\r\n            if (indexOfCurrentTrack === 7) {\r\n              indexOfCurrentTrack = 0;\r\n            } else indexOfCurrentTrack++;\r\n          }\r\n          nextNoteTime += interval;\r\n          indexOfCurrentNote++;\r\n\r\n          if (indexOfCurrentNote === singleTrackValue.length) {\r\n            indexOfCurrentNote = 0;\r\n          }\r\n        }\r\n      }, interval * 1000)\r\n    );\r\n  }\r\n\r\n  const appendPhantomTrack = () => {\r\n    //its job is to prevent player from being empty when it starts animating tracks\r\n    //so it looks like tracks are in infinite loop.\r\n    const motionTrack = document.querySelector(\".motion\");\r\n    const phantomTrackContainer = document.createElement(\"div\");\r\n    phantomTrackContainer.classList.add(\"phantom\");\r\n    const phantomTrack = motionTrack.cloneNode(true);\r\n    const tracksContainer = document.querySelector(\".tracks_container\");\r\n    phantomTrack.classList.add(\"phantom\");\r\n    tracksContainer.appendChild(phantomTrack);\r\n  };\r\n\r\n  const Start = () => {\r\n    //if app is not playing, then start playing\r\n    if (!isPlaying) {\r\n      // check if speed value is not insanely big or small...\r\n      if (speed < 40) {\r\n        setSpeed(40);\r\n      } else if (speed > 200) {\r\n        setSpeed(200);\r\n      } else {\r\n        prepareAudioBuffers(currentDrumset, true);\r\n        setIsPlaying(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const Pause = () => {\r\n    if (isPlaying) {\r\n      index = 0;\r\n      clearInterval(beatScheduler);\r\n      setBeatScheduler(null);\r\n      setIsPlaying(false);\r\n      const phantomTrack = document.querySelector(\".phantom\");\r\n      phantomTrack.remove();\r\n      blocksInMotion.style.animation = \"\";\r\n    }\r\n  };\r\n\r\n  const clearAllTracks = () => {\r\n    let emptyTracks = tracks;\r\n    for (let track in tracks) {\r\n      emptyTracks[track] = tracks[track].map(() => {\r\n        return 0;\r\n      });\r\n    }\r\n    setTracks(emptyTracks);\r\n    renderSoundBlocks();\r\n  };\r\n\r\n  useEffect(() => {\r\n    //render all tracks when app loads\r\n    renderSoundBlocks();\r\n    prepareAudioBuffers(\"drumset1\", false);\r\n    const animatedBlocks = document.querySelector(\".tracks_container\");\r\n    setBlocksInMotion(animatedBlocks);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"player-container\">\r\n      <div className=\"action-menu\">\r\n        <button className=\"btn play\" onClick={(e) => Start(e)}>\r\n          <i className=\"fas fa-play\"></i>\r\n        </button>\r\n        <button className=\"btn pause\" onClick={(e) => Pause(e)}>\r\n          <i className=\"fas fa-pause\"></i>\r\n        </button>\r\n        <button className=\"btn clear\" onClick={() => clearAllTracks()}>\r\n          <i className=\"fas fa-eraser\"></i>\r\n        </button>\r\n      </div>\r\n      <div className=\"info-area\">\r\n        <div className=\"tracks-length\">\r\n          <div\r\n            className=\"remove-beat\"\r\n            onClick={() => modifyTracksLength(false)}\r\n          >\r\n            <i className=\"fas fa-minus\"></i>\r\n          </div>\r\n          <div className=\"length\">\r\n            <p className=\"length-value\">{tracksLength}</p>\r\n\r\n            <p>beats</p>\r\n          </div>\r\n\r\n          <div className=\"add-beat\" onClick={() => modifyTracksLength(true)}>\r\n            <i className=\"fas fa-plus\"></i>\r\n          </div>\r\n        </div>\r\n        <div className=\"tempo\">\r\n          <p className=\"tempo-header\">Tempo</p>\r\n          <input\r\n            type=\"number\"\r\n            className=\"tempo-input\"\r\n            value={speed}\r\n            onChange={(e) => {\r\n              if (!isPlaying) {\r\n                setSpeed(e.target.value);\r\n              }\r\n            }}\r\n          ></input>\r\n          <p className=\"tempo-units\">BPM</p>\r\n        </div>\r\n        <div className=\"drum-select\">\r\n          <p className=\"drum-select-title\">Drumset</p>\r\n          <select\r\n            id=\"drum-select\"\r\n            className=\"drum-select\"\r\n            onChange={(e) => {\r\n              setCurrentDrumset(e.target.value);\r\n              store.currentDrumset = e.target.value;\r\n              prepareAudioBuffers(e.target.value, false);\r\n            }}\r\n          >\r\n            <option value=\"drumset1\">Acoustic 1</option>\r\n            <option value=\"drumset2\">Acoustic 2</option>\r\n            <option value=\"drumset3\">Electro 1</option>\r\n            <option value=\"drumset4\">Electro 2</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <Scrollbars>\r\n        <div className=\"player\">\r\n          <div className=\"block-info\">\r\n            <div className=\"crash\"></div>\r\n            <div className=\"ride\"></div>\r\n            <div className=\"hihat\"></div>\r\n            <div className=\"snare\"></div>\r\n            <div className=\"tom1\"></div>\r\n            <div className=\"tom2\"></div>\r\n            <div className=\"floor-tom\"></div>\r\n            <div className=\"kick\"></div>\r\n          </div>\r\n          <div className=\"tracks_container\">\r\n            <div className=\"motion\">\r\n              {\r\n                // here go all the tracks...\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Scrollbars>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default observer(Player);\r\n","import React, { useContext } from \"react\";\r\n\r\nimport Snare from \"../assets/snare.svg\";\r\nimport Tom1 from \"../assets/tom1.svg\";\r\nimport Tom2 from \"../assets/tom2.svg\";\r\nimport FloorTom from \"../assets/floor.svg\";\r\nimport HihatTop from \"../assets/hihat.svg\";\r\nimport Crash from \"../assets/crash.svg\";\r\nimport Ride from \"../assets/ride.svg\";\r\nimport Kick from \"../assets/kick.svg\";\r\n\r\nimport { StoreContext } from \"./StoreProvider\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nfunction Drumset() {\r\n  const store = useContext(StoreContext);\r\n\r\n  const playSound = (index) => {\r\n    const source = store.context.createBufferSource();\r\n    source.buffer = store.arrayOfBuffers[index];\r\n    source.connect(store.context.destination);\r\n    source.start();\r\n  };\r\n\r\n  return (\r\n    <div className=\"drumset\">\r\n      <div className=\"kick-pad\" onClick={() => playSound(7)}>\r\n        <img src={Kick} alt=\"\" datakey=\"kick\" className=\"kick\"></img>\r\n      </div>\r\n      <div className=\"snare-pad\" onClick={() => playSound(3)}>\r\n        <img src={Snare} alt=\"\" datakey=\"snare\" className=\"snare\"></img>\r\n      </div>\r\n      <div className=\"tom1-pad\" onClick={() => playSound(4)}>\r\n        <img src={Tom1} alt=\"\" datakey=\"tom1\" className=\"tom1\"></img>\r\n      </div>\r\n      <div className=\"tom2-pad\" onClick={() => playSound(5)}>\r\n        <img src={Tom2} alt=\"\" datakey=\"tom2\" className=\"tom2\"></img>\r\n      </div>\r\n      <div className=\"floor-tom-pad\" onClick={() => playSound(6)}>\r\n        <img src={FloorTom} alt=\"\" datakey=\"floor\" className=\"floor\"></img>\r\n      </div>\r\n      <div className=\"crash-pad\" onClick={() => playSound(0)}>\r\n        <img src={Crash} alt=\"\" datakey=\"crash\" className=\"crash\"></img>\r\n      </div>\r\n      <div className=\"ride-pad\" onClick={() => playSound(1)}>\r\n        <img src={Ride} alt=\"\" datakey=\"ride\" className=\"ride\"></img>\r\n      </div>\r\n\r\n      <div className=\"hihat-pad\" onClick={() => playSound(2)}>\r\n        <img src={HihatTop} alt=\"\" datakey=\"hihat\" className=\"hihat\"></img>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default observer(Drumset);\r\n","import React, { Component } from \"react\";\r\nimport \"./css/style.css\";\r\nimport Player from \"./components/player\";\r\nimport Drumset from \"./components/drumset\";\r\n\r\nimport StoreProvider from \"./components/StoreProvider\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <StoreProvider>\r\n        <div className=\"main\">\r\n          <Player></Player>\r\n          <Drumset></Drumset>\r\n        </div>\r\n      </StoreProvider>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n"],"sourceRoot":""}